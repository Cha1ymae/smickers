<h2>Contactez-nous</h2>

<div *ngIf="!isFormSubmitted">
  <div *ngIf="contactForm?.invalid && contactForm?.touched" style="color: red; text-align: center; margin-bottom: 10px;">
    <p>Veuillez remplir correctement tous les champs.</p>
  </div>

  <form (ngSubmit)="onSubmit(contactForm)" #contactForm="ngForm">
    <label for="name">Nom :</label>
    <input type="text" id="name" name="name" [(ngModel)]="name" #nameControl="ngModel" placeholder="Votre nom" required />
    <div *ngIf="nameControl?.invalid && nameControl?.touched" style="color: red; font-size: 0.9em;">
      <p>Le nom est requis.</p>
    </div>

    <label for="email">Email :</label>
    <input type="email" id="email" name="email" [(ngModel)]="email" #emailControl="ngModel" placeholder="Votre email" required email />
    <div *ngIf="emailControl?.invalid && emailControl?.touched" style="color: red; font-size: 0.9em;">
      <p *ngIf="emailControl?.errors?.['required']">L'email est requis.</p>
      <p *ngIf="emailControl?.errors?.['email']">Veuillez entrer un email valide.</p>
    </div>

    <label for="message">Message :</label>
    <textarea id="message" name="message" [(ngModel)]="message" #messageControl="ngModel" placeholder="Votre message" required></textarea>
    <div *ngIf="messageControl?.invalid && messageControl?.touched" style="color: red; font-size: 0.9em;">
      <p>Le message est requis.</p>
    </div>

    <button type="submit" [disabled]="contactForm.invalid">Envoyer</button>
  </form>
</div>

<div *ngIf="isFormSubmitted">
  <p>Votre commentaire est pris en considération, nous allons vous contacter le plutôt possible. Merci :) </p>
</div>
